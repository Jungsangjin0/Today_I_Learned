# 다대다 관계

학생과 과목 간의 관계는 다대다 관계이다.     
하나의 학생은 여러 과목을 수강할 수 있고, [ 1 : N ]    
하나의 과목은 여러 학생이 수강할 수 있다. [ 1 : N ]    

다대다 관계를 구현하는 가장 일반적인 방법은 중간 테이블을 사용하는 것이다.     


학생과 과목은 정보테이블과 같다. 로우가 증가하는 경우는 새로운 학생이 입학 했을 때, 과목이 증설 되었을 때 일 것이다. 
하지만 학생이 과목을 수강을 하고, 과목에 어떠한 학생이 수강신청을 했는지에 대한 정보를 저장하려 할때 학생 테이블에 추가해야하는가     
아니면 과목테이블에 추가를 해야하는가? 라고 생각한다면, 새로운 테이블이 나와야 한다고 생각이 들 것이다.


### 예시)
 
STD [ 학생 ]
- id 
- name 

COURSE [ 과목 ]
- id
- name

STD_COURSE [ 중간 테이블 ]
- STD_EID
- COURSE_EID

학생 테이블에는 **학생 정보** 가 저장되어있고, COURSE 테이블에는 **과목 정보** 가 저장되어있다.     
중간 테이블에는 이력테이블로 생각하면 될 것이다. 학생이 과목을 수강할 때마다 해당 과목 수강 이력을 중간 테이블에 저장한다.     
* * *

### 생각했던 것

#### 과목 테이블없이 학생이 과목을 수강할 때마다 varchar로 과목명을 저장하면서 이력을 쌓는것은 안되는가?    
그러면 N:N 관계도 안되고 중간 테이블도 사라지는 것이 아닌가 하고 생각했었다.      

만약, 과목에 대한 부가적인 정보(교수, 학기, 학점 등)이 필요없이 **과목 명**만 필요하게 된다면 varchar로 저장해도 되겠지만,    
과목에 대한 부가적인 정보가 필요로 하게 된다면 매번 테이블 컬럼을 추가하게 될테고 데이터의 정확성이 떨어지게 될 수 있다.       
일반적으로 데이터베이스에서는 관련 정보를 하나의 테이블로 관리하는 것이 좋고, 향후 데이터의 확장성[부가정보와 같은]과 유지보수성을 고려할 때도       
테이블을 사용하는 것이 좋다.     

테이블로 정보를 따로 관리하면 중간 테이블은 FK로 과목key만 갖고 있어도 되고, 과목 테이블의 확장에는 영향을 받지 않게된다. fk로 join만 하면되기 때문이다.    
위 예시에서는 과목에 대한 부가적인 정보가 추가가 된다면 테이블 컬럼을 추가하게 되면서 영향을 받게 되는 것과는 반대된다.
